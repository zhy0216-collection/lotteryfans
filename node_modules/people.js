_ = require("underscore");



var People = function(id, name){
    this.id = id;
    this.name = name

    return this;
}





var PeopleList = function(){
    var self = this;
    var _peopleList = [];

    self.initFromFile = function(filename){
        var fs = require('fs');
        fs.readFile('./res/test.txt', 'utf8', function (err,data) {
          if (err) {
            return console.log(err);
          }

          var peopleData = data.split("\n");
          
          _.each(peopleData, function(v, i){
                var temp = v.split("\t");
                var people = new People(temp[0], temp[1]);
                self.addPeople(people);
          })
        });

        return self;
    }

    self.addPeople = function(people){
        _peopleList.push(people);
    }

    self.getPeopleList = function(){
        return _peopleList;
    }

    self.length = function(){
        return _peopleList.length
    }



    return self;


}


exports.People = People;
exports.PeopleList = PeopleList;



